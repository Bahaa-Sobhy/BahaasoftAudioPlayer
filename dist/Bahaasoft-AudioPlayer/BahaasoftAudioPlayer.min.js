/*!
 * Bahaasoft Audio Player JavaScript Plugin - version: 22.08.13
 * Made by: Bahaa Sobhy Ata Ibrahem.
 * Official Website: http://Bahaa-Sobhy.com
 * Copyright 2009-2022 - All rights reserved to Bahaa Sobhy Ata Ibrahem.
 * Licensed under MIT.
 */!function(e,t){"function"==typeof define&&define.amd?define([],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.BahaasoftAudioPlayer=t(e)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:this,function(Le){"use strict";function Se(e,t,l){"function"==typeof Le.CustomEvent&&(t=new CustomEvent(t,{bubbles:!0,detail:l||{}}),e.dispatchEvent(t))}var fe={autoplay:!0,mode:"live",liveSource:"",enableTitleTooltip:!0,title:"",liveCover:"",liveBuffer:5,liveSourceFallbackEnabled:!1,liveSourceFallbackTrack:"",liveStatusEnabled:!0,liveStatusAnimation:!0,liveStatusLabel:"LIVE",tracksBase:"",tracksFiles:[],tracksTitles:[],tracksCovers:[],autoPlayNextTrack:!0,loopTracks:!0,shuffleTracks:!1,showLoopButton:!0,showShuffleButton:!0,trackButtonsFollowShuffle:!0,trackFile:"",trackCover:"",enableCovers:!0,enableCoverAnimation:!0,showSoundVolumeLevelControl:!0,soundLevel:100,rememberLatestSoundLevel:!0,showCurrentTimeProgressBar:!0,showCurrentTime:!0,showTrackDuration:!0,enableAudioVisualizer:!0,disableAudioVisualizerOnSmallDevices:!1,visualizerColorMax:"#EF5858",visualizerColorMin:"#FEB3C6",enableShadow:!0,enablePlayerToolTips:!1,isDarkMode:!0,darkModeSwitcher:!0,darkModeSwitcherTarget:"body",darkModeSwitcherContainer:"body",darkModeVisualizerColorMax:"#666",darkModeVisualizerColorMin:"#444",rememberLatestDarkModeStatus:!0,rightToLeft:!1,debug:!1,enableMobileDebug:!1},e=function(e,t){Array.prototype.forEach.call(e,t)},ge=function(){var l={};return e(arguments,function(e){for(var t in e){if(!e.hasOwnProperty(t))return;"[object Object]"===Object.prototype.toString.call(e[t])?l[t]=ge(l[t],e[t]):l[t]=e[t]}}),l};return function(s,P){let t=(l,i)=>{let o;try{throw Error("")}catch(e){0<(o="error"!=(o=e.stack.split("\n"))[0].trim().toLowerCase()?o[2]:o[3]).includes("@")?o=""+(o=(o=o.split("@")[1]).split("/"))[o.length-1]:o.trim().toLowerCase().startsWith("at ")&&(o=(""+(o=o.split("/"))[o.length-1]).substr(0,(""+o[o.length-1]).length-1))}if(n.enableMobileDebug){let t=document.querySelector(".bsConsole"),e=(null==t&&((t=document.createElement("pre")).className="bsConsole",t.innerHTML=`<div class="bsConsoleHeader">Console</div><div class="bsBtn caption minimizeBtn" title="Minimize">_</div><div class="bsBtn caption closeBtn" title="Clear">x</div><div class="outputContainer"></div>`,document.querySelector("body").append(t)),t.querySelector(".closeBtn").addEventListener("click",e=>{t.querySelectorAll(".outputContainer .output").forEach(e=>{e.remove()})}),t.querySelector(".minimizeBtn").addEventListener("click",e=>{28<t.offsetHeight?(t.style.height="28px",e.target.innerText="+"):(t.style.height="360px",e.target.innerText="_")}),document.createElement("div"));e.classList.add("output",i),e.innerHTML=`<span>${l}</span><div class="source">${o}</div>`,t.querySelector(".outputContainer").append(e),t.querySelector(".outputContainer").scroll({top:9999999,left:0,behavior:"smooth"})}},l="display:inline-block;line-height:12px;padding:2px 4px 2px 22px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDYuMC1jMDA2IDc5LjE2NDc1MywgMjAyMS8wMi8xNS0xMTo1MjoxMyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo4ZjM3YzQxMi04MGI4LTAwNGEtOWI1NS00ODAyZTA1ZjY2NGYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzBEMEQ0QjUxMTlBMTFFRDk0RDI5N0VEMDQ3NzREQzkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzBEMEQ0QjQxMTlBMTFFRDk0RDI5N0VEMDQ3NzREQzkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIxLjAgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZmNiMGRhOTMtM2ZlMi1jMTQ2LTllMmQtNzY4YWVmZjU1YmUxIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6NjBjMTJmMzUtYWExMi0wYTQ3LWI0YTItYzlkY2QwYTQ0ODU0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+kSzu+AAAA2VJREFUeNpEU01oXFUUPve+O+9vknl9k8kkE2OwDbRqumhLSkUogigqpoIogi4k7aKVLgQVlLbgpgutgigk0m5cKNZV1UXsoiooGlxYtdIaQWPbIW1n0kz6ZvLem/dz/zwzQby8w7tcvnPOd75zDqkvPN6E/tGglQYpFQg0rSWAzMDzK3V/pPb0/Nm/b33w2TIceOoAzM3NI570vYj+7RktctnzB1bAF3TOuYCNMIXlegu2TgxDZWjg4o1G9MTK7W6r7JdhcnIS2p347hurGwE7d2Fl4aHdW2aUAvj25/UvokR0hZRQcglM7yh6tmXO5JmcHq04xfFRt4UMnfD25beajdbDfy2vfULGq/bED2f2XRVSy90vLo5GXRn0qE3f58H3Zx58hAv9NaX0omGQvVrDHgxwOs343qAdIVP1OvMHC6ZZYECpgruGbd1cz/rllEsFSNN8RmoClJDvLKtwEP/zhBCHMVqvVryj+HaePbl/7H7fs41uyulX7z/wYZ4LxrnwQUsvTvIpgxqw2uo0Bgec0+hkUkrOWmbhKAHSkVg3G3TN/U6pCJSlZMBVz6Mz9AyzQ5rjXctuFGdFw6Bmkmbg2NaQQWEnNmERGQHFll0XSYYOHNJMXktzuYK2lksd9rRQSrnYiVKlXDqGGgRY3WNcqh+R3adZLnaRfVNbtn9+as8SCiJnT17esRZkawg0D86M2i88Wn0pjPmbmL0xVqvcg/FqGPA1LuThKE6t9SDi9E4np4DKUOR15Z+NfOlaFP95PQqarbShlHxPCNlEcC1oh69ioDray5bJppTSP+F7gSYZNkZpraQGLnrTsHk4l4CCdjDju73ab95qvZLnfAhz4ZTCOL5v62HYG7P3VoQQRGK/ThzaPhzGmBPj4BCBJgZ4nrMQbCTHV9thteS1n902MXyFK32+6NpubcTnRP/+XCcJk5LCEXYd2kE+EmuEqJtDnHCQGC7uZhUkdWlspPyR65gnUUgPMUvI/DDjiSgxrB+3AaJEepi/T59z1R8o2Q9sXRryB+cIJe/kQnrYvnPoc4QYZJ1ppX7FNcTvP5P9Tewb3lGwhmWZC0EnOoX1+zi1xwaK9tsoO7ZYA1HBL5urrP83pTdXuwcIVy7s+mPx42+EZsy22OzWieqXvlfcXH3E/SvAADIKDHRBd4FTAAAAAElFTkSuQmCC) no-repeat;";console.success=e=>{console.log("%c"+e,"color:#0f0;"+l),t(e,"success")},console.attention=e=>{console.log("%c"+e,"color:#ff0;"+l),t(e,"attention")},console.critical=e=>{console.log("%c"+e,"color:#FF3030;"+l),t(e,"critical")},console.final=e=>{console.log("%c"+e,"color:#7CD8FF;"+l),t(e,"final")},console.msg=e=>{console.log("%c"+e,"color:#fff;"+l),t(e,"msg")},"object"==typeof s&&(P=s,s=".Bahaasoft-AudioPlayer");var a={},n=ge(fe,P||{});(async(e,t)=>{let l,i=(document.querySelectorAll("script[src]").forEach(e=>{let t=e.src;t.endsWith("BahaasoftAudioPlayer.js")&&(l=t.substr(0,t.lastIndexOf("/")))}),l+"/default/BahaasoftAudioPlayer_jsPlugin_Logo_120_web.png");t.enableCovers&&("live"==t.mode?""!=t.liveCover&&(i=t.liveCover):(""!=t.trackCover||0<t.tracksCovers.length)&&(i=""==t.trackCover?t.tracksBase+"/images/"+t.tracksCovers[0]:t.trackCover));var o=1==t.enableTitleTooltip?'<div class="tooltipText"></div>':"",r=t.enableCovers?`<div class="img-container${t.enableCoverAnimation?" animated":""}"><img class="cover" src="${i}" alt="404" /></div>`:"",s=1==t.showSoundVolumeLevelControl?`<label class="volume-container"><input class="slider volumeLevel" type="range" min="0" max="100" value="${t.soundLevel}" step="1" autofocus>${t.enablePlayerToolTips?'<div class="tooltipText">Sound Level</div>':""}</label><div class="volumeLevelLabel text-truncate">${t.soundLevel}%</div>`:"",a=1==t.showCurrentTimeProgressBar?'<div class="progress seeker"></div>':"",n=1==t.showCurrentTime?'<div class="currTime">00:00</div>':"",c=1==t.showTrackDuration?'<div class="durTime">00:00</div>':"",u=1==t.showCurrentTime&&1==t.showTrackDuration?'<div class="time-separator">/</div>':"",d=1==t.enableAudioVisualizer?'<canvas class="visualizer"></canvas>':"",o=(t.enablePlayerToolTips,`<div class="music-info ${t.rightToLeft?"rtl":""}"><div class="live-status text-truncate">${t.liveStatusLabel}</div><div class="info-container"><h4 class="title ${t.rightToLeft?"rtl":""}"><span></span>${o}</h4><div class="progress-container">${a}</div><div class="display"><div class="visualizer-container">${d}</div><div class="time-container">${n}${u}${c}</div></div></div></div>${r}<div class="controls"><div class="volume"><div class="action-btn speaker"><i class="bi bi-volume-up-fill"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Mute/Unmute</div>':""}</div>${s}</div><div class="navigation"><div class="action-btn prev"><i class="bi bi-skip-start-fill"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Previous Track</div>':""}</div><div class="action-btn play action-btn-big"><i class="bi bi-play-fill"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Play/Stop|Pause</div>':""}</div><div class="action-btn next"><i class="bi bi-skip-end-fill"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Next Track</div>':""}</div><div class="action-btn loop${t.loopTracks?" active":""}"><i class="bi bi-arrow-repeat"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Loop Tracks</div>':""}</div><div class="action-btn shuffle${t.shuffleTracks?" active":""}"><i class="bi bi-shuffle"></i>${t.enablePlayerToolTips?'<div class="tooltipText">Shuffle Tracks</div>':""}</div></div></div>`);let v=document.querySelector(e);return v.classList.add("Bahaasoft-AudioPlayer",t.mode),v.innerHTML=o,v})(s,n);let B=Le.innerWidth,e=document.querySelector("body"),R=document.querySelector(s),W=document.querySelector(s+" .controls"),c=document.querySelector(s+" .action-btn.play"),H=document.querySelector(s+" .action-btn.prev"),V=document.querySelector(s+" .action-btn.next"),i=document.querySelector(s+" .action-btn.shuffle"),o=document.querySelector(s+" .action-btn.loop"),r=document.querySelector(s+" .action-btn.speaker"),Z=document.querySelector(s+" .volume .volume-container"),u=document.querySelector(s+" .volume .volumeLevel"),d=document.querySelector(s+" .volume .volumeLevelLabel"),v=new Audio,m=new Audio,p,b,G,k=document.querySelector(s+" .progress-container"),$=document.querySelector(s+" .seeker"),O=document.querySelector(s+" .music-info"),h=document.querySelector(s+" .live-status"),U=document.querySelector(s+" .title"),L=document.querySelector(s+" .cover"),Y=document.querySelector(s+" .controls"),S=document.querySelector(s+" .currTime"),f=(document.querySelector(s+" .time-separator"),document.querySelector(s+" .durTime")),Q=document.querySelector(s+" .visualizer-container"),g=document.querySelector(s+" canvas"),y,T=g?g.getContext("2d"):null,j,M,X,C,J,E,K,_,A=0,w=0,ee=[],x=n.darkModeVisualizerColorMax,te=n.darkModeVisualizerColorMin,le=!0,ie=0,q,oe=()=>{n.enableAudioVisualizer&&n.disableAudioVisualizerOnSmallDevices&&((B=Le.innerWidth)<480?null!=g&&(g.classList.add("hidden"),C=0,T.clearRect(0,0,g.width,g.height),cancelAnimationFrame(q)):null!=g&&200==ie&&(g.classList.remove("hidden"),q()))},re=e=>{w=0,e.target.addEventListener("timeupdate",function(e){w=e.target.currentTime+.05})},se=e=>{var t=e.target.currentTime-w;.001<Math.abs(t)&&(e.target.currentTime=w)},ae=()=>{"live"==n.mode?n.liveSourceFallbackEnabled&&""!=n.liveSourceFallbackTrack&&a.SetCurrent("fallback",n.liveSourceFallbackTrack,n.title,n.liveCover):"fallback"==n.mode?a.SetCurrent("live",n.liveSource,n.title,n.liveCover):n.autoPlayNextTrack&&(n.shuffleTracks?I():a.NextTrack())},D=function(e){var t,{duration:e,currentTime:l}=e.srcElement;null!=$&&(t=l/e*100,$.style.width=t+"%");let i=new Date(null);null!=S&&(i.setSeconds(l),l<3600?S.innerHTML=i.toISOString().substr(14,5):isNaN(i)?S.innerHTML="00:00":S.innerHTML=i.toISOString().substr(11,8)),null!=f&&((i=new Date(null)).setSeconds(e),"infinity"==(""+e).toLowerCase()?(f.innerHTML="âˆž",f.classList.add("infinity")):(e<3600?f.innerHTML=i.toISOString().substr(14,5):isNaN(i)?f.innerHTML="00:00":f.innerHTML=i.toISOString().substr(11,8),f.classList.remove("infinity")))},ne=function(e){var t,l;"live"!=n.mode&&(t=this.clientWidth,e=e.offsetX,l=p.duration,p.currentTime=e/t*l)},ce=e=>{var t=Z.offsetWidth,e=e.offsetX;let l=Math.round((e/t*100).toFixed(0));100<l?l=100:l<0&&(l=0),null!=v&&(v.volume=l/100),null!=m&&(m.volume=l/100),null!=u&&(u.value=l,d.innerHTML=l+"%"),document.cookie=`soundLevel=${l}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`},ue=e=>{e.addEventListener("ended",ae),"live"==n.mode?(e.addEventListener("timeupdate",re),e.addEventListener("seeking",se),e.addEventListener("ended",function(){w=0}),k.removeEventListener("click",ne)):(e.addEventListener("timeupdate",D),e.removeEventListener("timeupdate",re),e.removeEventListener("seeking",se),k.addEventListener("click",ne))},F=()=>{let e;return e=(""+Le.location).startsWith("file:///")?(e=Le.location.href).substring(0,e.lastIndexOf("/")):""},z=async(e,t=null,l=!0)=>{let i,o,r=(le&&(v.crossOrigin="anonymous",ue(v),ue(m),le=!1),null!=v&&(i=v.volume,o=v.muted,null!=M&&(T.clearRect(0,0,g.width,g.height),j.disconnect(),M.disconnect(),cancelAnimationFrame(q),v.crossOrigin="false"),v.pause(),v.removeEventListener("timeupdate",D)),null!=m&&(m.pause(),m.removeEventListener("timeupdate",D)),S.innerHTML=f.innerHTML="00:00",$.style.width="0",b=1!=l?m:((v=new Audio).volume=i,v.muted=!n.rememberLatestSoundLevel||o,v.crossOrigin="anonymous",ue(v),v),document.querySelector(s+" .title span"));if("live"==n.mode){let e="?";if(n.liveSource.includes("?")&&(e="&"),b.src=""+n.liveSource+e+Date.now()+"&rj-ttl="+n.liveBuffer,r.innerText=n.title,null!=L&&null!=L){let e=(""+n.liveCover).startsWith("http:")||(""+n.liveCover).startsWith("https:")||(""+n.liveCover).startsWith("/")||(""+n.liveCover).startsWith(n.tracksBase)?n.liveCover:`${F()}/${n.tracksBase}/images/`+n.liveCover;F().startsWith("file:///")&&(e.startsWith("/")&&(e=e.substr(1,e.length-1)),e=F()+"/"+e),L.src=e}}else if("fallback"==n.mode)b.src=e.startsWith("http:")||e.startsWith("https:")?e:`/${n.tracksBase}/audio/`+e;else if(r.innerText=null==t?n.title:t,b.src=e.startsWith("http:")||e.startsWith("https:")?e:`${F()}/${n.tracksBase}/audio/`+e,null!=L&&null!=L){let e=n.trackCover;F().startsWith("file:///")&&e.startsWith("/")&&(e=e.substr(1,e.length-1),e=F()+"/"+e),L.src=e}if(n.enableTitleTooltip){let e=document.querySelector(s+" .title .tooltipText"),t=(e.remove(),(e=document.createElement("div")).className="tooltipText",document.createElement("bdi"));t.innerText=r.innerText,e.append(t),U.append(e)}return b},de=e=>{n.debug&&console.critical("FallbackMode(): "+e),null!=g&&(g.classList.add("hidden"),C=0,T.clearRect(0,0,g.width,g.height)),m.mute=!0,m.play(),p=m,setTimeout(()=>{m.mute=!1},5e3)},ve=e=>{null!=v&&(v.muted=e),null!=m&&(m.muted=e),e?(r.querySelector("i").classList.remove("bi-volume-up-fill"),r.querySelector("i").classList.add("bi-volume-mute-fill")):(r.querySelector("i").classList.remove("bi-volume-mute-fill"),r.querySelector("i").classList.add("bi-volume-up-fill")),document.cookie=`BSAudioMuted=${b.muted}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`},me=(e=0)=>{null!=v&&(v.muted=!v.muted),null!=m&&(m.muted=!m.muted),b.muted?(r.querySelector("i").classList.remove("bi-volume-up-fill"),r.querySelector("i").classList.add("bi-volume-mute-fill")):(r.querySelector("i").classList.remove("bi-volume-mute-fill"),r.querySelector("i").classList.add("bi-volume-up-fill")),document.cookie=`BSAudioMuted=${b.muted}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`},I=()=>{ee.length<n.tracksFiles.length?(A=Math.floor(Math.random()*n.tracksFiles.length),ee.includes(A)?I():(ee.push(A),a.SetCurrent("files",n.tracksFiles[A],n.tracksTitles[A],`${F()}/${n.tracksBase}/images/`+n.tracksCovers[A]))):n.loopTracks&&(ee=[],I())},pe=()=>{n.shuffleTracks=!n.shuffleTracks,i.classList.toggle("active")},be=()=>{n.loopTracks=!n.loopTracks,o.classList.toggle("active")},ke=()=>{if(++A>n.tracksFiles.length-1){if(!n.loopTracks)return void A--;A=0}a.SetCurrent("files",n.tracksFiles[A],n.tracksTitles[A],`${F()}/${n.tracksBase}/images/`+n.tracksCovers[A])},he=()=>{if(--A<0){if(!n.loopTracks)return void A++;A=n.tracksFiles.length-1}a.SetCurrent("files",n.tracksFiles[A],n.tracksTitles[A],`${F()}/${n.tracksBase}/images/`+n.tracksCovers[A])};a.getCookie=(e,t)=>{var l=e+"=",i=document.cookie.split(";");for(let t=0;t<i.length;t++){let e=i[t];for(;" "==e.charAt(0);)e=e.substring(1);if(0==e.indexOf(l))return e.substring(l.length,e.length)}return t},a.SetCurrent=(e,t,l,i)=>{v.paused&&m.paused||a.Stop(),v.removeEventListener("timeupdate",D),m.removeEventListener("timeupdate",D),h=document.querySelector(s+" .live-status"),null!=(g=document.querySelector(s+" canvas"))&&g.classList.remove("hidden"),"live"==e?(n.mode="live",n.liveSource=t,n.liveCover=i,Y.classList.add("live"),null==h&&((h=document.createElement("div")).classList.add("live-status","text-truncate","show","blink"),h.innerHTML="LIVE",O.prepend(h))):"fallback"==e?n.mode="fallback":(n.mode="files",n.trackFile=t,n.trackCover=i,Y.classList.remove("live"),null!=h&&h.remove(),null==g&&((g=document.createElement("canvas")).className="visualizer",Q.prepend(g),T=g.getContext("2d"))),n.title=l;let o=(()=>{let e;switch(n.mode){case"live":e=(""+n.liveSource).startsWith("//")?"file:"==Le.location.protocol?"http:"+n.liveSource:""+Le.location.protocol+n.liveSource:n.liveSource,n.liveSource=e;break;case"fallback":e=audioSourceLink.startsWith("http:")||audioSourceLink.startsWith("https:")?audioSourceLink:`/${n.tracksBase}/audio/`+audioSourceLink;break;case"files":case"file":e=""!=n.trackFile?`${F()}/${n.tracksBase}/audio/`+n.trackFile:`${F()}/${n.tracksBase}/audio/`+n.tracksFiles[0]}return e})(),r=(z(t).then(function(e){e.addEventListener("timeupdate",D),k.addEventListener("click",ne),v=e,p=v}),z(t,n.title,!1).then(function(e){e.addEventListener("timeupdate",D),k.addEventListener("click",ne),m=e}),n.debug&&console.msg("==> Starting the url test"),new XMLHttpRequest);r.open("HEAD",o),r.onloadend=e=>{var t;ie=e.target.status,n.debug&&(console.group(`urlLoadEnd: ${o} `),console.final("status = "+ie)),400==e.target.status||405==e.target.status?de(`Error Code: ${e.target.status} Possible CORS Restriction.`):404==e.target.status?n.debug&&console.attention("NOT FOUND: "+o):200==e.target.status&&(n.debug&&console.success("Everything looks good!"),n.enableAudioVisualizer&&(t=v,te=a.IsDarkMode?(x=n.darkModeVisualizerColorMax,n.darkModeVisualizerColorMin):(x=n.visualizerColorMax,n.visualizerColorMin),y=new(Le.AudioContext||Le.webkitAudioContext),j=y.createMediaElementSource(t),M=y.createAnalyser(),j.connect(M),M.connect(y.destination),M.fftSize=32,E=M.frequencyBinCount,K=new Uint8Array(E),_=(g.width-2)/E,q=()=>{if(C=0,T.clearRect(0,0,g.width,g.height),null==M)cancelAnimationFrame(q),t.crossOrigin="false";else{M.getByteFrequencyData(K);for(let e=0;e<E-2;e++)X=e>E-4?K[e]:.5*K[e],(J=T.createLinearGradient(0,0,0,96)).addColorStop(0,x),J.addColorStop(1,te),T.fillStyle=J,T.fillRect(C,g.height-X,_,X),T.fillStyle="gray",T.fillRect(C,g.height-X-5,_,4),C+=_;requestAnimationFrame(q)}},null!=M&&oe()),v.play()),n.debug&&console.groupEnd()},r.onerror=e=>{n.debug&&console.group("urlError()"),de("urlError(): Possible CORS Restriction."),n.debug&&console.groupEnd()},r.send(),document.querySelector(s).classList.add("play"),c.querySelector("i.bi").classList.remove("bi-play-fill"),"live"==n.mode?(c.querySelector("i.bi").classList.add("bi-stop-fill"),"live"==n.mode?(n.liveStatusEnabled&&(h.classList.add("show"),n.liveStatusAnimation&&h.classList.add("blink")),W.classList.add("live"),c.classList.add("border"),c.classList.add("rounded-circle")):(h.classList.remove("show blink"),W.classList.remove("live"),c.classList.remove("border"),c.classList.remove("rounded-circle"))):c.querySelector("i.bi").classList.add("bi-pause-fill")},a.Play=()=>{p.paused||a.Stop();let e=c.querySelector("i");"live"==n.mode?(a.SetCurrent(n.mode,n.liveSource,n.title,n.liveCover),e.classList.add("bi-stop-fill")):(e.classList.add("bi-pause-fill"),p.play()),document.querySelector(s).classList.add("play"),e.classList.remove("bi-play-fill")},a.Pause=function(){let e=c.querySelector("i");document.querySelector(s).classList.remove("play"),e.classList.remove("bi-pause-fill","bi-stop-fill"),e.classList.add("bi-play-fill"),p.pause()},a.Stop=function(){let e=c.querySelector("i");document.querySelector(s).classList.remove("play"),e.classList.remove("bi-pause-fill","bi-stop-fill"),e.classList.add("bi-play-fill"),p=v.paused?m:v,v.pause(),v.currentTime=0,m.pause(),m.currentTime=0,null!=L&&null!=L&&L.closest(".img-container").classList.toggle("stop")},a.NextTrack=function(){(n.shuffleTracks&&n.trackButtonsFollowShuffle?I:ke)()},a.PreviousTrack=function(){(n.shuffleTracks&&n.trackButtonsFollowShuffle?I:he)()},a.GetShuffle=()=>n.shuffleTracks,a.SetShuffle=function(e){1==e||"true"==e.toLowerCase()?n.shuffleTracks=!0:n.shuffleTracks=!1,i.classList.toggle("active")},a.ToggleShuffle=()=>{n.shuffleTracks=!n.shuffleTracks,i.classList.toggle("active")},a.GetLoop=()=>n.loopTracks,a.SetLoop=function(e){!0===e||"true"==e.toLowerCase()?n.loopTracks=!0:n.loopTracks=!1,o.classList.toggle("active")},a.ToggleLoop=()=>{n.loopTracks=!n.loopTracks,o.classList.toggle("active")},a.SetVolume=t=>{if("number"!=typeof t&&isNaN(Math.round(t))){let e="string"==typeof t?'"':"";return console.critical(`The value you entered into SetVolume(${e}${t}${e}) is not a valid integer (number) type;`),!1}return parseInt(t)<0||100<parseInt(t)?(console.critical(`The value you entered into SetVolume(${t}) must be a number in that range minimum: 0 to Maximum: 100;`),!1):(t=parseInt(t),null!=v&&(v.volume=t/100),null!=m&&(m.volume=t/100),u.value=t,d.innerHTML=t+"%",document.cookie=`soundLevel=${t}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`,!0)},a.Mute=()=>{ve(!0)},a.Unmute=()=>{ve(!1)},a.ToggleMute=()=>{me()},a.GetSettings=e=>n[e],a.IsDarkMode="true"==a.getCookie("bsPlayerDarkMode",""+n.isDarkMode),a.destroy=function(){document.removeEventListener("blur",blurHandler,!0),document.removeEventListener("input",inputHandler,!1),document.removeEventListener("click",inputHandler,!1),document.removeEventListener("submit",submitHandler,!1),removeAllErrors(s,n),removeNoValidate(s),n.emitEvents&&Se(document,"bouncerDestroyed",{settings:n}),n=null};var N;{let t=null;if(c.addEventListener("click",e=>{(t=c.querySelector("i")).classList.remove("bi-play-fill"),(G=document.querySelector(s).classList.contains("play"))?(document.querySelector(s).classList.remove("play"),t.classList.remove("bi-pause-fill","bi-stop-fill"),t.classList.add("bi-play-fill"),p.pause()):(document.querySelector(s).classList.add("play"),t.classList.remove("bi-play-fill"),"live"==n.mode?(t.classList.add("bi-stop-fill"),a.SetCurrent("live",n.liveSource,n.title,n.liveCover)):(t.classList.add("bi-pause-fill"),p.play()))}),H.addEventListener("click",a.PreviousTrack),V.addEventListener("click",a.NextTrack),i.addEventListener("click",pe),o.addEventListener("click",be),r.addEventListener("click",()=>{me()}),Z.addEventListener("click",ce),u.addEventListener("change",e=>{v.volume=m.volume=(e.target.value/100).toFixed(2),u.value=""+(100*v.volume).toFixed(0),d.innerHTML=(100*v.volume).toFixed(0)+"%",document.cookie=`soundLevel=${Math.round(100*v.volume)}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`}),document.querySelector(s).addEventListener("wheel",e=>{e.preventDefault(),e=Le.event||e;e=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail));1==e&&v.volume<=.98&&(v.volume+=.02,m.volume+=.02,.98<=v.volume&&(v.volume=m.volume=1)),-1==e&&.02<=v.volume&&(v.volume-=.02,m.volume-=.02,v.volume<=.02&&(v.volume=m.volume=0)),u.value=""+(100*v.volume).toFixed(0),d.innerHTML=(100*v.volume).toFixed(0)+"%",document.cookie=`soundLevel=${Math.round(100*v.volume)}; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax`},{passive:!0}),Le.addEventListener("resize",e=>{setTimeout(e=>{oe()},500)}),n.emitEvents&&Se(document,"bouncerInitialized",{settings:n}),n.darkModeSwitcher){let t=document.createElement("div"),l=(t.classList.add("colorModeSwitcher","bi","bi-sun-fill"),document.querySelector(s));"player"==n.darkModeSwitcherTarget?(document.querySelector(s).prepend(t),l=document.querySelector(s)):(l=e,document.querySelector(n.darkModeSwitcherContainer).append(t)),t.addEventListener("click",function(e){l.classList.toggle("darkMode"),t.classList.toggle("bi-sun-fill"),t.classList.toggle("bi-moon-fill"),l.classList.contains("darkMode")?(document.cookie="bsPlayerDarkMode=true; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax",x=n.darkModeVisualizerColorMax,te=n.darkModeVisualizerColorMin,a.IsDarkMode=!0):(document.cookie="bsPlayerDarkMode=false; expires=Thu, 24 Mar 2033 12:00:00 UTC; path=/; SameSite=Lax",x=n.visualizerColorMax,te=n.visualizerColorMin,a.IsDarkMode=!1)}),a.IsDarkMode?(l.classList.add("darkMode"),t.classList.add("colorModeSwitcher","bi","bi-sun-fill")):(l.classList.remove("darkMode"),t.classList.remove("bi-sun-fill"),t.classList.add("colorModeSwitcher","bi","bi-moon-fill"))}n.rememberLatestDarkModeStatus?"true"===(N=a.getCookie("bsPlayerDarkMode",n.isDarkMode))||!0===N?"player"==n.darkModeSwitcherTarget?(document.querySelector(s).classList.add("darkMode"),e.classList.remove("darkMode")):(e.classList.add("darkMode"),document.querySelector(s).classList.remove("darkMode")):("player"==n.darkModeSwitcherTarget?document.querySelector(s):e).classList.remove("darkMode"):n.isDarkMode&&("player"==n.darkModeSwitcherTarget?(document.querySelector(s).classList.add("darkMode"),e.classList.remove("darkMode")):(e.classList.add("darkMode"),document.querySelector(s).classList.remove("darkMode"))),n.enableShadow&&R.classList.add("hasShadow"),n.rememberLatestSoundLevel?(N=a.getCookie("soundLevel",n.soundLevel),a.SetVolume(N),u.value=N,d.innerHTML=N+"%"):(a.SetVolume(n.soundLevel),u.value=n.soundLevel,d.innerHTML=n.soundLevel+"%"),"live"==n.mode?z(n.liveSource,n.title,n.liveCover):""!=n.trackFile?z(n.trackFile,n.trackTitle,n.trackCover):0<n.tracksFiles.length&&z(n.tracksFiles[0],n.tracksTitles[0],n.tracksCovers[0]),a.Stop(),Le.addEventListener("load",e=>{n.autoplay&&setTimeout(e=>{a.Play()},5e3)})}return a}});